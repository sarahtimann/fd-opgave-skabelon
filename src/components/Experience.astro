---
import experience from "@data/experience.json";
---

<section class="full-bleed">
  <div>
    <p>EXPERIENCE</p>
    <h2>{experience.heading}</h2>
    <p>{experience.subheading}</p>
  </div>
  <div class="stats">
    <div class="stat" style="--percent: 85"></div>
    <div class="stat" style="--percent: 95"></div>
    <div class="stat" style="--percent: 90"></div>
  </div>
</section>

<style>
  section {
    display: flex;
    flex-direction: row;
    justify-content: center;
    align-items: center;
    gap: 2rem;
    flex-wrap: wrap;
    background-color: var(--bg-yellow);
    padding-top: 2rem;
    padding-bottom: 2rem;
  }

  h2 {
    font-size: var(--h2-font-size);
    font-family: Cabin;
    color: var(--h2-color-dark);
  }

  p {
    font-size: var(--p-font-size);
    font-family: Lato;
    color: var(--p-color-dark);
  }

  .stats {
    display: flex;
    --bg-color: #ffcc4a;
    padding: 2rem;
    gap: 1rem;
    background: var(--bg-color);
    justify-content: center;
    align-items: center;
  }

  .stat {
    --p: calc(var(--percent) * 1%);
    --border-width: 5px;
    --border-color: #ffffff;
    --border-bg: #daae3c;

    aspect-ratio: 1;
    width: 150px;
    border-radius: calc(Infinity * 1px);
    border: var(--border-width) solid #0000;
    background:
      radial-gradient(
          circle at 50% calc(var(--border-width) / 2),
          var(--border-color) calc(var(--border-width) / 2),
          transparent 0
        )
        border-box,
      linear-gradient(var(--bg-color) 0 0) padding-box,
      conic-gradient(var(--border-color) var(--p), var(--border-bg) 0)
        border-box;

    display: grid;
    counter-reset: count var(--percent);

    &::before,
    &::after {
      grid-area: 1 / 1;
    }

    &::after {
      content: counter(count) "%";
      place-self: center;
      font-family: Cabin;
      font-size: 30px;
    }

    &::before {
      content: "";
      aspect-ratio: 1;
      border-radius: calc(Infinity * 1px);
      width: calc(var(--border-width) * 3);
      background: #000;
      outline: 3px solid #fff;
      outline-offset: 0px;
      offset-path: border-box;
      offset-distance: var(--p);
      offset-anchor: 50% calc(50% - var(--border-width) / 2);
    }
  }
</style>
